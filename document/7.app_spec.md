패키징하기
========

파이선 파일을 exe로 바꿔야한다. 그러나 그냥 py파일을 바로 바꾸면 여러 파일들과 상호작용이 안될수있다. 이를 해결하기 위해 설정값을 입력하는데, 이것이 바로 그 방법이다.

    # -*- mode: python ; coding: utf-8 -*-
    
    
    a = Analysis(
        ['app.py'],
        pathex=['C:\\Users\\user\\Desktop\\1.2\\BOSS_announcer_downloads\\1.2'],
        binaries=[],
        datas=[
            ('images', 'images'),
            ('pa.ui', '.'),
            ('boss-tts-key.json', '.'),
            ('virtual.ui', '.'),
            ('main.ui', '.'),
            ('setting.ui', '.'),
            ('setting.json', '.'),
            ('speakmodule.py', '.'),
            ('getsheet.py', '.'),
            ('classify.py', '.')
        ],
        hiddenimports=[],
        hookspath=[],
        hooksconfig={},
        runtime_hooks=[],
        excludes=[],
        win_no_prefer_redirects=False,
        win_private_assemblies=False,
        noarchive=False,
        optimize=0,
    )
    pyz = PYZ(a.pure)
    
    exe = EXE(
        pyz,
        a.scripts,
        a.binaries,
        a.datas,
        [],
        name='app',
        debug=False,
        bootloader_ignore_signals=False,
        strip=False,
        upx=True,
        upx_exclude=[],
        runtime_tmpdir=None,
        console=True,
        disable_windowed_traceback=False,
        argv_emulation=False,
        target_arch=None,
        codesign_identity=None,


우리가 신경써야할 부분은 이곳이다.

    ['app.py'],
            pathex=['C:\\Users\\user\\Desktop\\1.2\\BOSS_announcer_downloads\\1.2'],
            binaries=[],
            datas=[
                ('images', 'images'),
                ('pa.ui', '.'),
                ('boss-tts-key.json', '.'),
                ('virtual.ui', '.'),
                ('main.ui', '.'),
                ('setting.ui', '.'),
                ('setting.json', '.'),
                ('speakmodule.py', '.'),
                ('getsheet.py', '.'),
                ('classify.py', '.')
            ],

app.py는 내가 exe로 만들 파일 이름, pathex는 경로를 나타낸다. 그리고 datas에는 exe파일이 상호작용할 모든 파일들의 이름을 넣어주면 된다. images는 폴더이므로 약간 서식이 다르다.

    pathex=['C:\\Users\\user\\Desktop\\1.2\\BOSS_announcer_downloads\\1.2']

실제 파일들은 C:\Users\user\Desktop\BOSS_announcer_downloads\1.2에 저장되어 있었다. 그러나 spec파일에서는 경로를 입력하는 방법이 약간 다른다보다. 그 이유는 잘 모르겠고 그냥 동일 방법을 적용하면 된다. 

정 모르겠다면 AI에게 물어보자.

이걸 전부 진행한 후 명령 프롬프트에서 

    pyinstaller app.spec

를 입력하면 된다.

첫째, pyinstaller를 설치해야 한다. pip를 통해 설치하자.

둘째, 명령 프롬프트에서 파일 경로로 이동해야 한다. 

    cd 폴더명

을 입력하면 해당 폴더로 이동한다. 이를 이용해 py파일이 있는 폴더까지 이동한 후 명령어를 입력하도록 하자. 그러면 dist폴더가 새로 생성되고 그 안에 exe가 존재할것이다. 다른것은 다 필요없으니 pyinstaller로 생성된 폴더는 전부 삭제하고 exe만 남기도록 하자.
